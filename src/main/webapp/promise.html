<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>promise demo</title>
    <script type="text/javascript" src="./js/jquery-2.1.1.js"></script>
    <script type="text/javascript" src="./js/q.js"></script>
</head>
<body>
<script type="text/javascript">
    var ajax = function(option, successHandler, failHandler){
        $.ajax(option.url, {
            type: option.method || 'GET',
            success: successHandler,
            error: failHandler
        });
    };

    $(document).ready(function(){
        ajax({url: 'api/id'}, function(successData){
            console.log('successful', successData);
        }, function(failData){
            console.log('get id failed...', failData);
        });
    });
</script>
</body>
</html>